{"remainingRequest":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/src/pages/authority/sub/ResendMail.vue?vue&type=template&id=201bb231&scoped=true","dependencies":[{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/src/pages/authority/sub/ResendMail.vue","mtime":1633509914000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPGRpdiBjbGFzcz0idy1mdWxsIGgtZnVsbCI+DQogICAgICAgIDxkaXYgY2xhc3M9InctZnVsbCBpdGVtcy1jZW50ZXIiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJweC01Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InVuZGVybGluZSBtci0zIGZvbnQtc2VtaWJvbGQgdGV4dC1sZyI+VU5DT05GSVJNRUQgQUNDT1VOVDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iIG10LTUiPg0KICAgICAgICAgICAgICAgPHAgY2xhc3M9InRleHQtc20gQnJlYWsgQWxsIj5QbGVhc2UgY2hlY2sgeW91ciBlbWFpbA0KICAgICAgICAgICAgICAgICAgIElmIHlvdSBkbyBub3QgcmVjZWl2ZSBhbiBhY2NvdW50IGNvbmZpcm1hdGlvbiBlbWFpbCwgcGxlYXNlIGNoZWNrIHlvdXIgc3BhbSBlbWFpbCBvciByZXNlbmQgaXQuDQogICAgICAgICAgICAgICAgPC9wPg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8cCBjbGFzcz0idGV4dC1yZWQtNjAwIGZvbnQtbGlnaHQgdGV4dC1zbSBteS01IHRyYW5zaXRpb24gZHVyYXRpb24tMTUwIGVhc2UtaW4tb3V0ICAiPnt7ZXJyb3JfbXNnfX08L3A+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWVuZCBteS01Ij4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0ZXh0LWNlbnRlciBweS0xIHB4LTUgdGV4dC1ibGFjayB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgYm9yZGVyIGJvcmRlci1ibGFjayBmb2N1czpzaGFkb3ctb3V0bGluZSBob3ZlcjpiZy1ibGFjayBob3Zlcjp0ZXh0LXdoaXRlIiB2LW9uOmNsaWNrPSJvblJlc2VuZCI+UmVzZW5kIE1haWw8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGJyPg0KICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDo7IiBAY2xpY2s9Im9uRXhpdCIgY2xhc3M9InRleHQtc20gZm9udC1zZW1pYm9sZCI+JiM2MDsgYmFjazwvYT4NCiAgICAgICAgPC9kaXY+DQogICAgICAgICANCiAgICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2PiANCg=="},{"version":3,"sources":["/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/src/pages/authority/sub/ResendMail.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACb,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1E,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;eACf,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;mBAC/C,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBACjG,CAAC,CAAC,CAAC;;YAEP,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtM,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YACH,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtF,CAAC,CAAC,CAAC,CAAC,CAAC;;SAEJ,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/src/pages/authority/sub/ResendMail.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"w-full h-full\">\r\n        <div class=\"w-full items-center\">\r\n        <div class=\"px-5\">\r\n            <div class=\"underline mr-3 font-semibold text-lg\">UNCONFIRMED ACCOUNT</div>\r\n            <div class=\" mt-5\">\r\n               <p class=\"text-sm Break All\">Please check your email\r\n                   If you do not receive an account confirmation email, please check your spam email or resend it.\r\n                </p>\r\n                \r\n            </div>\r\n            <p class=\"text-red-600 font-light text-sm my-5 transition duration-150 ease-in-out  \">{{error_msg}}</p>\r\n            <div class=\"w-full flex justify-end my-5\">\r\n                <button class=\"text-center py-1 px-5 text-black transition-colors duration-150 border border-black focus:shadow-outline hover:bg-black hover:text-white\" v-on:click=\"onResend\">Resend Mail</button>\r\n            </div>\r\n            <br>\r\n            <a href=\"javascript:;\" @click=\"onExit\" class=\"text-sm font-semibold\">&#60; back</a>\r\n        </div>\r\n         \r\n         </div>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\nimport Web3 from \"web3\";\r\nimport WalletService from \"../../../services/wallet.service\";\r\nexport default {\r\n    data: function() {\r\n        return {\r\n            error_msg:\"\",\r\n        }\r\n    },\r\n     props: {\r\n    },\r\n    components: {\r\n    },\r\n    methods: {\r\n        onExit(){\r\n            this.$emit('onExit')\r\n        },\r\n        async onResend() {\r\n            const permissions = await ethereum.request({\r\n                method: 'wallet_requestPermissions',\r\n                params: [{\r\n                    eth_accounts: {}\r\n                }],\r\n            })\r\n            console.log('permissions::', permissions)\r\n\r\n            const accountsPermission = await permissions.find((permission) => permission.parentCapability === 'eth_accounts');\r\n            console.log(\"accountsPermission\", accountsPermission)\r\n            if (!accountsPermission) {\r\n                console.log('eth_accounts permission successfully requested!');\r\n            }\r\n\r\n            let web3 = new Web3(window.web3.currentProvider)\r\n            let from = await web3.eth.getAccounts();\r\n            const login_wallet = from[0]\r\n            console.log(\"login_wallet::\", login_wallet)\r\n\r\n            var expireDate = new Date();\r\n            // expire date add 1day\r\n            expireDate.setDate(expireDate.getDate() + 1);\r\n            const msgParams = `resend_confirm_mail ${login_wallet} ${ Date.parse(expireDate) }`\r\n\r\n            let strMethod = 'personal_sign'\r\n\r\n            let paramVals = [msgParams, login_wallet]\r\n            console.log('params:', strMethod, paramVals, login_wallet)\r\n\r\n            const res = await web3.currentProvider.send(strMethod, paramVals);\r\n            const signature = res.result;\r\n            \r\n            WalletService.resendMail(login_wallet, msgParams, res.result).then(res=>{\r\n                console.log('res::', res)\r\n                this.error_msg = '';\r\n                alert('resend mail complete')\r\n                location.href = \"/\";\r\n\r\n\r\n            }).catch(error=>{\r\n                this.error_msg = error\r\n                if(error.response && error.response.data)\r\n                    this.error_msg = error.response.data\r\n            })\r\n\r\n\r\n            // if(this.checkedNames.length == 2) {\r\n            //     console.log('this.checkedNames.length '+this.checkedNames.length)\r\n            //     this.$emit('onNext')\r\n            //     return \r\n            // } else {\r\n            //     this.error_msg = \"*Required consent is required to continue.\"\r\n            // }\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>"]}]}