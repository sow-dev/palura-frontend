{"remainingRequest":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/babel-loader/lib/index.js!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/components/imageUploader.vue?vue&type=template&id=bfcd6eee","dependencies":[{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/components/imageUploader.vue","mtime":1630980284000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJmbGV4IHctZnVsbCBiZy1ncmV5LWxpZ2h0ZXIiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAidy1mdWxsIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHB4LTQgcHktNiBiZy13aGl0ZSB0ZXh0LWJsdWUgcm91bmRlZC1sZyBzaGFkb3ctbGcgdHJhY2tpbmctd2lkZSB1cHBlcmNhc2UgYm9yZGVyIGJvcmRlci1ibHVlIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWJsdWUgaG92ZXI6dGV4dC13aGl0ZSIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3ZnIiwgewogIGNsYXNzOiAidy04IGgtOCIsCiAgZmlsbDogImN1cnJlbnRDb2xvciIsCiAgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsCiAgdmlld0JveDogIjAgMCAyMCAyMCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInBhdGgiLCB7CiAgZDogIk0xNi44OCA5LjFBNCA0IDAgMCAxIDE2IDE3SDVhNSA1IDAgMCAxLTEtOS45VjdhMyAzIDAgMCAxIDQuNTItMi41OUE0Ljk4IDQuOTggMCAwIDEgMTcgOGMwIC4zOC0uMDQuNzQtLjEyIDEuMXpNMTEgMTFoM2wtNC00LTQgNGgzdjNoMnYtM3oiCn0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJzcGFuIiwgewogIGNsYXNzOiAibXQtMiB0ZXh0LWJhc2UgbGVhZGluZy1ub3JtYWwiCn0sICJTZWxlY3QgYSBmaWxlIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJsYWJlbCIsIF9ob2lzdGVkXzIsIFtfaG9pc3RlZF8zLCBfaG9pc3RlZF80LCBfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgdHlwZTogImZpbGUiLAogICAgY2xhc3M6ICJoaWRkZW4iLAogICAgb25DaGFuZ2U6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMub25IYW5kbGVDaGFuZ2UgJiYgJG9wdGlvbnMub25IYW5kbGVDaGFuZ2UuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sIG51bGwsIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApXSldKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxkaXY+XHJcbiAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiAgQGNoYW5nZT1cIm9uSGFuZGxlQ2hhbmdlXCIgcGxhY2Vob2xkZXI9XCJcIiAvPlxyXG48L2Rpdj4gICAgICIpXSwgMjExMgogIC8qIFNUQUJMRV9GUkFHTUVOVCwgREVWX1JPT1RfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/components/imageUploader.vue"],"names":[],"mappings":";;AACK,EAAA,KAAK,EAAC;;;AACA,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAEM,KAFN,EAEM;AAFD,EAAA,KAAK,EAAC,SAEL;AAFe,EAAA,IAAI,EAAC,cAEpB;AAFmC,EAAA,KAAK,EAAC,4BAEzC;AAFsE,EAAA,OAAO,EAAC;AAE9E,CAFN,E,cACI,YAAA,CAAqJ,MAArJ,EAAqJ;AAA/I,EAAA,CAAC,EAAC;AAA6I,CAArJ,C,CADJ,E;;AAAA,C;;8BAGA,YAAA,CAAgE,MAAhE,EAAgE;AAA1D,EAAA,KAAK,EAAC;AAAoD,CAAhE,EAA4C,eAA5C,EAAyD,CAAA;AAAA;AAAzD,C;;;sDALR,YAAA,CAQM,KARN,EAAA,UAAA,EAQM,CAPF,YAAA,CAMQ,OANR,EAAA,UAAA,EAMQ,CALJ,UAKI,EAFJ,UAEI,EADJ,YAAA,CAA6D,OAA7D,EAA6D;AAAtD,IAAA,IAAI,EAAC,MAAiD;AAA1C,IAAA,KAAK,EAAC,QAAoC;AAA1B,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,cAAA,IAAA,QAAA,CAAA,cAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAoB,GAA7D,E,IAAA,E;;AAAA,GACI,CANR,CAOE,CARN,C,EASA,mBAAA,CAAA,mGAAA,C","sourcesContent":["<template>\r\n<div class=\"flex w-full bg-grey-lighter\">\r\n    <label class=\"w-full flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-white\">\r\n        <svg class=\"w-8 h-8\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n            <path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\" />\r\n        </svg>\r\n        <span class=\"mt-2 text-base leading-normal\">Select a file</span>\r\n        <input type='file' class=\"hidden\" @change=\"onHandleChange\" />\r\n    </label>\r\n</div>\r\n<!-- <div>\r\n    <input type=\"file\"  @change=\"onHandleChange\" placeholder=\"\" />\r\n</div>     -->\r\n</template>\r\n\r\n<script>\r\n\r\nimport UploadService from '../services/upload.service.js'\r\n\r\nexport default {\r\n    data: function () {\r\n        return {\r\n            ds:[]\r\n        }\r\n    },\r\n    created: function () {\r\n        \r\n    },\r\n    computed: {\r\n    inputVal: {\r\n      get() {\r\n        return this.modelValue;\r\n      },\r\n      set(val) {\r\n        this.$emit('update:modelValue', val);\r\n      }\r\n    }\r\n  },\r\n    props: [\"modelValue:String\", \"address\"],\r\n    emits:['update:modelValue', 'options'],\r\n    methods: {\r\n        onHandleChange(event) {\r\n            // console.log('event.target.files', event.target.files);\r\n            //   console.log(\"MediaInfo:::\", MediaInfo)\r\n            //   console.log('file received', file);\r\n            const file = event.target.files[0]\r\n\r\n            MediaInfo({\r\n                format: 'JSON'\r\n            }, mediaInfo => {\r\n                if (file) {\r\n                    const reader = new FileReader();\r\n                    const getSize = () => file.size;\r\n                    const readChunk = (chunkSize, offset) =>\r\n                        new Promise((resolve, reject) => {\r\n\r\n                            reader.onload = (event) => {\r\n                                if (event.target.error) {\r\n                                    reject(event.target.error);\r\n                                }\r\n                                resolve(new Uint8Array(event.target.result));\r\n                            }\r\n                            reader.readAsArrayBuffer(file.slice(offset, offset + file.size));\r\n                        })\r\n\r\n                    mediaInfo.analyzeData(getSize, readChunk)\r\n                        .then((info) => {\r\n                            // this.$refs.ta.value = JSON.stringify(result, null, 2);\r\n                            console.log('result:::', info)\r\n                            console.log(\"address !!!!!!\", this.address)\r\n                            UploadService.media(file, this.address, info, reader).then(res => {\r\n                                console.log('uploaded !!! :',res)\r\n                                const imgPath = \"https://parular-contents.s3.ap-northeast-2.amazonaws.com/\" + res.path;\r\n                                // this.$emit('changed', imgPath)\r\n                                this.inputVal =imgPath\r\n                                this.$emit('uploaded', {\r\n                                    id:res.id,\r\n                                    name:res.name,\r\n                                    path:imgPath,\r\n                                    done:true\r\n                                })\r\n                            })\r\n                        })\r\n                        .catch((error) => {\r\n                            console.error(error);\r\n                        });\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>"],"sourceRoot":""}]}