{"remainingRequest":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/babel-loader/lib/index.js!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/pages/authority/sub/ResendMail.vue?vue&type=template&id=201bb231&scoped=true","dependencies":[{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/pages/authority/sub/ResendMail.vue","mtime":1633509914000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtMjAxYmIyMzEiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTIwMWJiMjMxIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogInctZnVsbCBoLWZ1bGwiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAidy1mdWxsIGl0ZW1zLWNlbnRlciIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJweC01Igp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJ1bmRlcmxpbmUgbXItMyBmb250LXNlbWlib2xkIHRleHQtbGciCn0sICJVTkNPTkZJUk1FRCBBQ0NPVU5UIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICIgbXQtNSIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInAiLCB7CiAgY2xhc3M6ICJ0ZXh0LXNtIEJyZWFrIEFsbCIKfSwgIlBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIElmIHlvdSBkbyBub3QgcmVjZWl2ZSBhbiBhY2NvdW50IGNvbmZpcm1hdGlvbiBlbWFpbCwgcGxlYXNlIGNoZWNrIHlvdXIgc3BhbSBlbWFpbCBvciByZXNlbmQgaXQuICIpXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJ0ZXh0LXJlZC02MDAgZm9udC1saWdodCB0ZXh0LXNtIG15LTUgdHJhbnNpdGlvbiBkdXJhdGlvbi0xNTAgZWFzZS1pbi1vdXQgICIKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJ3LWZ1bGwgZmxleCBqdXN0aWZ5LWVuZCBteS01Igp9OwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfaG9pc3RlZF80LCBfaG9pc3RlZF81LCBfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF82LCBfdG9EaXNwbGF5U3RyaW5nKF9jdHguZXJyb3JfbXNnKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIGNsYXNzOiAidGV4dC1jZW50ZXIgcHktMSBweC01IHRleHQtYmxhY2sgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIGJvcmRlciBib3JkZXItYmxhY2sgZm9jdXM6c2hhZG93LW91dGxpbmUgaG92ZXI6YmctYmxhY2sgaG92ZXI6dGV4dC13aGl0ZSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLm9uUmVzZW5kICYmICRvcHRpb25zLm9uUmVzZW5kLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiUmVzZW5kIE1haWwiKV0pLCBfaG9pc3RlZF84LCBfY3JlYXRlVk5vZGUoImEiLCB7CiAgICBocmVmOiAiamF2YXNjcmlwdDo7IiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMub25FeGl0ICYmICRvcHRpb25zLm9uRXhpdC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQiCiAgfSwgIjwgYmFjayIpXSldKV0pOwp9KTs="},{"version":3,"sources":["/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/pages/authority/sub/ResendMail.vue"],"names":[],"mappings":";;;;;;;AACS,EAAA,KAAK,EAAC;;;AACF,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;8BACP,YAAA,CAA2E,KAA3E,EAA2E;AAAtE,EAAA,KAAK,EAAC;AAAgE,CAA3E,EAAkD,qBAAlD,EAAqE,CAAA;AAAA;AAArE,C;;8BACA,YAAA,CAKM,KALN,EAKM;AALD,EAAA,KAAK,EAAC;AAKL,CALN,EAAkB,C,aACf,YAAA,CAEK,GAFL,EAEK;AAFF,EAAA,KAAK,EAAC;AAEJ,CAFL,EAA6B,0HAA7B,CADe,CAAlB,E;;AAAA,C;;;AAMG,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BAGX,YAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;;;;uBAdR,YAAA,CAmBM,KAnBN,EAAA,UAAA,EAmBM,CAlBF,YAAA,CAiBO,KAjBP,EAAA,UAAA,EAiBO,CAhBP,YAAA,CAcM,KAdN,EAAA,UAAA,EAcM,CAbF,UAaE,EAZF,UAYE,EANF,YAAA,CAAuG,GAAvG,EAAA,UAAA,EAAuG,gBAAA,CAAf,IAAA,CAAA,SAAe,CAAvG,EAAiG;AAAA;AAAjG,GAME,EALF,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADF,YAAA,CAAmM,QAAnM,EAAmM;AAA3L,IAAA,KAAK,EAAC,0IAAqL;AAArC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAgC,GAAnM,EAA+K,aAA/K,CACE,CAFN,CAKE,EAFF,UAEE,EADF,YAAA,CAAmF,GAAnF,EAAmF;AAAhF,IAAA,IAAI,EAAC,cAA2E;AAA3D,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,MAAA,IAAA,QAAA,CAAA,MAAA,OAAA,QAAA,YAAF;AAAA,KAAA,CAAsD;AAA5C,IAAA,KAAK,EAAC;AAAsC,GAAnF,EAAqE,QAArE,CACE,CAdN,CAgBO,CAjBP,CAkBE,CAnBN,C","sourcesContent":["<template>\r\n    <div class=\"w-full h-full\">\r\n        <div class=\"w-full items-center\">\r\n        <div class=\"px-5\">\r\n            <div class=\"underline mr-3 font-semibold text-lg\">UNCONFIRMED ACCOUNT</div>\r\n            <div class=\" mt-5\">\r\n               <p class=\"text-sm Break All\">Please check your email\r\n                   If you do not receive an account confirmation email, please check your spam email or resend it.\r\n                </p>\r\n                \r\n            </div>\r\n            <p class=\"text-red-600 font-light text-sm my-5 transition duration-150 ease-in-out  \">{{error_msg}}</p>\r\n            <div class=\"w-full flex justify-end my-5\">\r\n                <button class=\"text-center py-1 px-5 text-black transition-colors duration-150 border border-black focus:shadow-outline hover:bg-black hover:text-white\" v-on:click=\"onResend\">Resend Mail</button>\r\n            </div>\r\n            <br>\r\n            <a href=\"javascript:;\" @click=\"onExit\" class=\"text-sm font-semibold\">&#60; back</a>\r\n        </div>\r\n         \r\n         </div>\r\n    </div> \r\n</template>\r\n\r\n<script>\r\nimport Web3 from \"web3\";\r\nimport WalletService from \"../../../services/wallet.service\";\r\nexport default {\r\n    data: function() {\r\n        return {\r\n            error_msg:\"\",\r\n        }\r\n    },\r\n     props: {\r\n    },\r\n    components: {\r\n    },\r\n    methods: {\r\n        onExit(){\r\n            this.$emit('onExit')\r\n        },\r\n        async onResend() {\r\n            const permissions = await ethereum.request({\r\n                method: 'wallet_requestPermissions',\r\n                params: [{\r\n                    eth_accounts: {}\r\n                }],\r\n            })\r\n            console.log('permissions::', permissions)\r\n\r\n            const accountsPermission = await permissions.find((permission) => permission.parentCapability === 'eth_accounts');\r\n            console.log(\"accountsPermission\", accountsPermission)\r\n            if (!accountsPermission) {\r\n                console.log('eth_accounts permission successfully requested!');\r\n            }\r\n\r\n            let web3 = new Web3(window.web3.currentProvider)\r\n            let from = await web3.eth.getAccounts();\r\n            const login_wallet = from[0]\r\n            console.log(\"login_wallet::\", login_wallet)\r\n\r\n            var expireDate = new Date();\r\n            // expire date add 1day\r\n            expireDate.setDate(expireDate.getDate() + 1);\r\n            const msgParams = `resend_confirm_mail ${login_wallet} ${ Date.parse(expireDate) }`\r\n\r\n            let strMethod = 'personal_sign'\r\n\r\n            let paramVals = [msgParams, login_wallet]\r\n            console.log('params:', strMethod, paramVals, login_wallet)\r\n\r\n            const res = await web3.currentProvider.send(strMethod, paramVals);\r\n            const signature = res.result;\r\n            \r\n            WalletService.resendMail(login_wallet, msgParams, res.result).then(res=>{\r\n                console.log('res::', res)\r\n                this.error_msg = '';\r\n                alert('resend mail complete')\r\n                location.href = \"/\";\r\n\r\n\r\n            }).catch(error=>{\r\n                this.error_msg = error\r\n                if(error.response && error.response.data)\r\n                    this.error_msg = error.response.data\r\n            })\r\n\r\n\r\n            // if(this.checkedNames.length == 2) {\r\n            //     console.log('this.checkedNames.length '+this.checkedNames.length)\r\n            //     this.$emit('onNext')\r\n            //     return \r\n            // } else {\r\n            //     this.error_msg = \"*Required consent is required to continue.\"\r\n            // }\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>"],"sourceRoot":""}]}