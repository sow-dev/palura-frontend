{"remainingRequest":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/babel-loader/lib/index.js!/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/src/pages/authority/sub/WalletLoginForm.vue?vue&type=template&id=d6459676&scoped=true","dependencies":[{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/src/pages/authority/sub/WalletLoginForm.vue","mtime":1633589462000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi1kNjQ1OTY3NiIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtZDY0NTk2NzYiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAidy1mdWxsIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJwLTEwIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJoLTEvMiBibG9jayIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJ0ZXh0LWxnIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYSIsIHsKICBocmVmOiAiIyIsCiAgY2xhc3M6ICJ1bmRlcmxpbmUgIG1yLTMiCn0sICJTSUdOIElOIildLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogIm15LTUgZmxleCBmbGV4LWNvbCBnYXAtMiB0ZXh0LXNtIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogInRleHQtcmVkLTYwMCBmb250LWxpZ2h0IHRleHQtc20gbXktNSB0cmFuc2l0aW9uIGR1cmF0aW9uLTE1MCBlYXNlLWluLW91dCBoLTQgICIKfTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImEiLCB7CiAgaHJlZjogIi4vIiwKICBjbGFzczogImhvbWUgdGV4dC1zbSBmb250LXNlbWlib2xkIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3BhbiIsIHsKICBjbGFzczogIm1yLTIiCn0sICI8IiksIC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgQmFjayB0byBIb21lIildKV0sIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF84ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAibXQtMTYgaG9tZSB0ZXh0LXNtIGZvbnQtZXh0cmFsaWdodCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJObyBBY2NvdW50cz8gIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImEiLCB7CiAgaHJlZjogIi4vbG9naW4uaHRtbD9tb2RlPXNpZ251cCIsCiAgY2xhc3M6ICJwbC0zIGZvbnQtc2VtaWJvbGQgaG92ZXI6dW5kZXJsaW5lIGhvdmVyOnRleHQtYmxhY2siCn0sICJTaWduIFVwIildLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOSA9IHsKICBrZXk6IDIsCiAgY2xhc3M6ICJ3LWZ1bGwgaC02MCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiCn07Cgp2YXIgX2hvaXN0ZWRfMTAgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiaW52YWxpZCBtb2RlIik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfUmVzZW5kTWFpbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJSZXNlbmRNYWlsIik7CgogIHZhciBfY29tcG9uZW50X2ggPSBfcmVzb2x2ZUNvbXBvbmVudCgiaCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3R4Lm1vZGUgPT0gJ2xvZ2luJyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiwgW19ob2lzdGVkXzMsIF9ob2lzdGVkXzQsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVWTm9kZSgicCIsIHsKICAgIGNsYXNzOiBbInctZnVsbCB0ZXh0LWNlbnRlciBweS0xIHRleHQtYmxhY2sgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIGJvcmRlciBib3JkZXItYmxhY2sgZm9jdXM6c2hhZG93LW91dGxpbmUgaG92ZXI6YmctZ3JheS05MDAgaG92ZXI6dGV4dC13aGl0ZSIsIFtfY3R4LnRhcmdldCA9PSAnbWV0YW1hc2snID8gJ2JnLWJsYWNrIHRleHQtd2hpdGUnIDogJ2JnLXdoaXRlIHRleHQtYmxhY2snXV0sCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgX2N0eC50YXJnZXQgPSAnbWV0YW1hc2snOwogICAgICAkb3B0aW9ucy5tTWV0YW1hc2soKTsKICAgIH0pCiAgfSwgIk1ldGFtYXNrICIsIDIKICAvKiBDTEFTUyAqLwogICksIF9jcmVhdGVWTm9kZSgicCIsIHsKICAgIGNsYXNzOiBbInctZnVsbCB0ZXh0LWNlbnRlciBweS0xIHRleHQtYmxhY2sgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwIGJvcmRlciBib3JkZXItYmxhY2sgZm9jdXM6c2hhZG93LW91dGxpbmUgaG92ZXI6YmctZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSIsIFtfY3R4LnRhcmdldCA9PSAnd2FsbGV0Y29ubmVjdCcgPyAnYmctZ3JheS01MDAgdGV4dC13aGl0ZScgOiAnYmctd2hpdGUgdGV4dC1ibGFjayddXSwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICBfY3R4LnRhcmdldCA9ICd3YWxsZXRjb25uZWN0JzsKICAgICAgJG9wdGlvbnMub3RoZXIoKTsKICAgIH0pCiAgfSwgIiBXYWxsZXQgQ29ubmVjdCAiLCAyCiAgLyogQ0xBU1MgKi8KICApLCBfY3JlYXRlVk5vZGUoInAiLCB7CiAgICBjbGFzczogWyJ3LWZ1bGwgdGV4dC1jZW50ZXIgcHktMSB0ZXh0LWJsYWNrIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MCBib3JkZXIgYm9yZGVyLWJsYWNrIGZvY3VzOnNoYWRvdy1vdXRsaW5lIGhvdmVyOmJnLWdyYXktNDAwIGhvdmVyOnRleHQtd2hpdGUiLCBbX2N0eC50YXJnZXQgPT0gJ3dhbGxldGxpbmsnID8gJ2JnLWdyYXktNTAwIHRleHQtd2hpdGUnIDogJ2JnLXdoaXRlIHRleHQtYmxhY2snXV0sCiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgX2N0eC50YXJnZXQgPSAnd2FsbGV0bGluayc7CiAgICAgICRvcHRpb25zLm90aGVyKCk7CiAgICB9KQogIH0sICIgV2FsbGV0IExpbmsgIiwgMgogIC8qIENMQVNTICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJwIiwgewogICAgY2xhc3M6IFsidy1mdWxsIHRleHQtY2VudGVyIHB5LTEgdGV4dC1ibGFjayB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0xNTAgYm9yZGVyIGJvcmRlci1ibGFjayBmb2N1czpzaGFkb3ctb3V0bGluZSBob3ZlcjpiZy1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIiwgW19jdHgudGFyZ2V0ID09ICdLYWlrYXMnID8gJ2JnLWdyYXktNTAwIHRleHQtd2hpdGUnIDogJ2JnLXdoaXRlIHRleHQtYmxhY2snXV0sCiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgX2N0eC50YXJnZXQgPSAnS2Fpa2FzJzsKICAgICAgJG9wdGlvbnMub3RoZXIoKTsKICAgIH0pCiAgfSwgIiBLYWlrYXMgIiwgMgogIC8qIENMQVNTICovCiAgKV0pLCBfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF82LCBfdG9EaXNwbGF5U3RyaW5nKF9jdHguZXJyb3JfbXNnKSwgMQogIC8qIFRFWFQgKi8KICApLCBfaG9pc3RlZF83LCBfaG9pc3RlZF84XSkpIDogX2N0eC5tb2RlID09ICdyZXNlbmQnID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfUmVzZW5kTWFpbCwgewogICAga2V5OiAxLAogICAgb25PbkV4aXQ6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICBfY3R4Lm1vZGUgPSAnbG9naW4nOwogICAgICBfY3R4LmVycm9yX21zZyA9ICcnOwogICAgfSkKICB9KSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9oLCBudWxsLCB7CiAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8xMF07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KV0pKV0pOwp9KTs="},{"version":3,"sources":["/Users/hyunjongkim/Documents/GitHub/palura-frontend/client-v1.0/src/pages/authority/sub/WalletLoginForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"w-full\">\r\n    <div v-if=\"mode=='login'\" class=\"p-10\">\r\n      <div class=\"h-1/2 block\"></div>\r\n      <div class=\"text-lg\">\r\n        <a href=\"#\" class=\"underline  mr-3\">SIGN IN</a>\r\n      </div>\r\n      <div class=\"my-5 flex flex-col gap-2 text-sm\">\r\n        <p class=\"w-full text-center py-1 text-black transition-colors duration-150 border border-black focus:shadow-outline hover:bg-gray-900 hover:text-white\"\r\n          :class=\"[target == 'metamask'? 'bg-black text-white': 'bg-white text-black',]\" \r\n          @click=\"target = 'metamask';mMetamask();\">Metamask\r\n        </p>\r\n        <p class=\"w-full text-center py-1 text-black transition-colors duration-150 border border-black focus:shadow-outline hover:bg-gray-400 hover:text-white\"\r\n        :class=\"[target == 'walletconnect'? 'bg-gray-500 text-white': 'bg-white text-black',]\" \r\n        @click=\"target = 'walletconnect';other()\">\r\n          Wallet Connect\r\n        </p>\r\n        <p class=\"w-full text-center py-1 text-black transition-colors duration-150 border border-black focus:shadow-outline hover:bg-gray-400 hover:text-white\"\r\n          :class=\"[target == 'walletlink'? 'bg-gray-500 text-white': 'bg-white text-black',]\"\r\n           @click=\"target = 'walletlink';other()\">\r\n           Wallet Link\r\n        </p>\r\n        <p class=\"w-full text-center py-1 text-black transition-colors duration-150 border border-black focus:shadow-outline hover:bg-gray-400 hover:text-white\"\r\n          :class=\"[target == 'Kaikas'? 'bg-gray-500 text-white': 'bg-white text-black',]\" \r\n          @click=\"target = 'Kaikas';other()\">\r\n          Kaikas\r\n        </p>\r\n      </div>\r\n      <p class=\"text-red-600 font-light text-sm my-5 transition duration-150 ease-in-out h-4  \">{{error_msg}}</p>\r\n      <div>\r\n        <a href=\"./\" class=\"home text-sm font-semibold\"><span class=\"mr-2\">&#60;</span> Back to Home</a>\r\n      </div>\r\n      <div class=\"mt-16 home text-sm font-extralight\">No Accounts?\r\n        <a href=\"./login.html?mode=signup\" class=\"pl-3 font-semibold hover:underline hover:text-black\">Sign Up</a>\r\n      </div>\r\n    </div>\r\n    <ResendMail v-else-if=\"mode=='resend'\"  v-on:onExit=\"mode='login';error_msg=''\"/>\r\n    <div v-else class=\"w-full h-60 items-center justify-center\">\r\n      <h>invalid mode</h>\r\n    </div>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport Web3 from \"web3\";\r\nimport detectEthereumProvider from \"@metamask/detect-provider\";\r\nimport WalletService from \"../../../services/wallet.service\";\r\nimport SessionService from \"../../../services/session.service.js\";\r\nimport  ResendMail from \"./ResendMail\"\r\nexport default {\r\n  name: \"login\",\r\n  created: function() {\r\n    this.mode = new URL(location.href).searchParams.get(\"mode\");\r\n  },\r\n  computed: {\r\n    web3() {\r\n      // return this.$store.state.web3\r\n      //\r\n      let web3 = new Web3(window.web3.currentProvider);\r\n      return web3;\r\n    },\r\n  },\r\n  components: {\r\n    ResendMail\r\n  },\r\n  data: function() {\r\n    return {\r\n      target: \"\",\r\n      mode: \"login\",\r\n      checkSign: false, //가입여부 확인 데이터(API확인후 반영)\r\n      error_msg:'',\r\n      \r\n    };\r\n  },\r\n  props: {},\r\n  methods: {\r\n    close: function() {\r\n      this.$emit(\"changeHidden\");\r\n    },\r\n    other: function() {\r\n      this.error_msg ='Not support yet'\r\n    },\r\n    mMetamask: async function() {\r\n      this.login()\r\n    },\r\n    checkSession(_address){\r\n      const session = SessionService.loadSession();\r\n      // if (Object.keys(this.session).length < 1){\r\n      WalletService.walletCheck(_address).then((hasAddr) => {\r\n        //해당주소 가입여부 확인\r\n        console.log('checked 결과:',hasAddr)\r\n    \r\n        if (!hasAddr || !hasAddr.data ||  hasAddr.data[0].account === null) {\r\n          console.log(\"등록된 계정이 없음--> go signup\");\r\n        } else {\r\n          if (SessionService.isExpired(session.lastTime)) {\r\n            console.log(\"유효기간이 만료됨\");\r\n            this.caseConnectWallet(hasAddr.data[0]);\r\n          } else {\r\n            console.log(\"로그인된 고객\");\r\n            this.caseSessionAlive(hasAddr.data[0]);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    async login(){\r\n\r\n      // 세션이 무료화\r\n      // this.session = {\r\n      //   lastTime: null,\r\n      //   address: null,\r\n      //   name: null,\r\n      //   avatar: null,\r\n      // };\r\n      SessionService.clear();\r\n      const permissions = await ethereum.request({method: 'wallet_requestPermissions',params: [{eth_accounts: {}}],});\r\n      console.log('permissions::', permissions)\r\n\r\n      const accountsPermission = await permissions.find((permission) => permission.parentCapability === 'eth_accounts');\r\n      console.log(\"accountsPermission\", accountsPermission)\r\n      if (!accountsPermission) {\r\n          console.log('eth_accounts permission successfully requested!');\r\n      }\r\n\r\n      let web3 = new Web3(window.web3.currentProvider)\r\n      let from = await web3.eth.getAccounts();\r\n      const login_wallet = from[0]\r\n      console.log(\"login_wallet::\", login_wallet)\r\n\r\n      var expireDate = new Date();\r\n      // expire date add 1day\r\n      expireDate.setDate(expireDate.getDate() + 1);\r\n      const msgParams = `login ${login_wallet} ${ Date.parse(expireDate) }`\r\n      \r\n      let strMethod = 'personal_sign'\r\n\r\n      let paramVals = [msgParams, login_wallet]\r\n      console.log('params:', strMethod, paramVals, login_wallet)\r\n\r\n      const res= await web3.currentProvider.send(strMethod, paramVals);\r\n      const signature = res.result;\r\n      console.log('서명결과:', signature)\r\n      WalletService.login('ETH', login_wallet, msgParams, res.result).then(res => {\r\n          const acc = res.data;\r\n          console.log('login :', acc)\r\n          SessionService.setItems({\r\n            platform: acc.platform,\r\n            wallet: acc.account,\r\n            nickname: acc.nickname,\r\n            avatar: acc.avatar,\r\n            userId: acc.user_id,\r\n            msg: msgParams,\r\n            sig: signature\r\n          });\r\n\r\n        console.log('saved session::', JSON.stringify(SessionService.loadSession()))\r\n        location.href = \"/\";\r\n\r\n          // location.href = \"/signup.html\";\r\n      }).catch(error => {\r\n          console.log(error)\r\n          this.error_msg = error // 이 값 어디 안쓰는데 저장만하네?\r\n          if(error.response && error.response.data){\r\n            this.error_msg = error.response.data\r\n            console.log('##',error.response.status)\r\n            if(error.response.status ==412){\r\n              this.mode = 'resend'\r\n            }\r\n          }\r\n          console.error(this.error_msg)\r\n      })\r\n\r\n    },\r\n    caseSessionAlive: async function(acc) {\r\n      console.log(\"caseConnectWallet!!!!\");\r\n      if (typeof window.ethereum !== \"undefined\") {\r\n        ethereum.eth_requestAccounts;\r\n        const connetWallet = await window.ethereum.request({\r\n          method: \"eth_requestAccounts\",\r\n        });\r\n\r\n        ethereum.request({ method: \"eth_chainId\" });\r\n        const chainId = await window.ethereum.request({\r\n          method: \"eth_chainId\",\r\n        });\r\n\r\n\r\n        //세션정보 저장\r\n        console.log(\"세션정보 저장\");\r\n        SessionService.setItems({\r\n          platform: chainId,\r\n          wallet: connetWallet[0],\r\n          nickname: acc.nickname,\r\n          avatar: acc.avatar,\r\n          userId: acc.user_id\r\n        });\r\n\r\n        location.href = \"/\";\r\n        return connetWallet;\r\n      }\r\n    },\r\n\r\n    onConnect: function(event) {\r\n      //1. 지갑주소가 가입되었는지 여부 확인\r\n      //2-1. 가입되어있을때 바로 메타마스크 연결\r\n      //2-2. 가입 안되어있을때\r\n      //3. 프로필 입력컴포넌트\r\n\r\n      if (this.checkSign === false) {\r\n        //가입안되었을때\r\n        console.log(\"this.checkSign\" + this.checkSign);\r\n\r\n        return;\r\n      } else {\r\n        const msgParams = \"hello\";\r\n        return new Promise(function(resolve, reject) {\r\n          if (typeof window.ethereum !== \"undefined\") {\r\n            ethereum.eth_requestAccounts;\r\n            const connetWallet = window.ethereum.request({\r\n              method: \"eth_requestAccounts\",\r\n            });\r\n            console.log(\"연결완료\");\r\n            resolve(connetWallet);\r\n          }\r\n        })\r\n          .then(async function(connetWallet) {\r\n            // event.preventDefault()\r\n            console.log(\"연결지갑주소\" + connetWallet);\r\n            // const msgParams ='hello'\r\n\r\n            let web3 = new Web3(window.web3.currentProvider);\r\n            let strMethod = \"personal_sign\";\r\n            let from = await web3.eth.getAccounts();\r\n            if (!from[0]) return this.onConnect();\r\n\r\n            let paramVals = [msgParams, from[0]];\r\n            console.log(\"params:\", strMethod, paramVals, from[0]);\r\n\r\n            // this.web3.currentProvider.sendAsync(method, params, from, function (err, result) {\r\n            //   console.log('result:', result)\r\n            // })\r\n\r\n            let res = await web3.currentProvider.send(strMethod, paramVals);\r\n\r\n            // let res = await ethereum.request({ method: strMethod , params: paramVals})\r\n\r\n            console.log(\"서명결과:\", res);\r\n            res.address = connetWallet;\r\n            return res;\r\n          })\r\n          .then(function(res) {\r\n            console.log(\"연결지갑주소2\" + res);\r\n            let a = JSON.stringify(res);\r\n            console.log(res.address.toString());\r\n            let addr = res.address.toString();\r\n            console.log(\"a\" + a);\r\n            // const paramApi = {\r\n            //   \"network\":\"network\",\r\n            //   // \"account\":res.address,\r\n            //   \"account\": \"0x122feb0fc838540a278ad23a8a5b3b232d476087\",\r\n            //   \"user_id\":\"user_id\",\r\n            //   \"chainid\":\"chainid\",\r\n            //   \"alias1\":\"alias1\",\r\n            //   \"alias2\":\"alias2\",\r\n            //   \"avata\":\"avata.jpg\",\r\n            //   \"msg\":msgParams,\r\n            //   \"sig\":res.result,\r\n            //   \"tag\":\"tag\"\r\n            // }\r\n            console.log(\"addr\" + addr);\r\n            console.log(\"res.result.toString()\" + res.result.toString());\r\n            // console.log(msgParams[0].name)\r\n\r\n            //    //지갑 주소 존재여부확인 없으면 가입해야함\r\n            //     WalletServices.check(addr).then(res=>{\r\n            //       console.log('결과값111:',res)\r\n            //         }).catch(e=>{\r\n            //           alert('error')\r\n            //         })\r\n            //     //지갑정보 insert 회원정보 입력하는 api 이게 입력 되면 check가 값 addr이 null이 아님\r\n            //     WalletServices.insert('network', addr, 'user_id', 'chainid', 'alias1', 'alias2', 'avata.jpg', msgParams, res.result.toString(),'tag').then(res=>{\r\n            //     console.log('결과값:',res)\r\n            //       }).catch(e=>{\r\n            //         alert('error')\r\n            //       })\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.home {\r\n  color: #8a8a8a;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}