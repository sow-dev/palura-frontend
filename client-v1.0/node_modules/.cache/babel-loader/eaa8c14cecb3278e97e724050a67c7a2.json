{"remainingRequest":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/babel-loader/lib/index.js!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/components/imageUploader.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/components/imageUploader.vue","mtime":1630980284000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBVcGxvYWRTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3VwbG9hZC5zZXJ2aWNlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgY29tcHV0ZWQ6IHsKICAgIGlucHV0VmFsOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLm1vZGVsVmFsdWU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgdmFsKTsKICAgICAgfQogICAgfQogIH0sCiAgcHJvcHM6IFsibW9kZWxWYWx1ZTpTdHJpbmciLCAiYWRkcmVzcyJdLAogIGVtaXRzOiBbJ3VwZGF0ZTptb2RlbFZhbHVlJywgJ29wdGlvbnMnXSwKICBtZXRob2RzOiB7CiAgICBvbkhhbmRsZUNoYW5nZTogZnVuY3Rpb24gb25IYW5kbGVDaGFuZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKCdldmVudC50YXJnZXQuZmlsZXMnLCBldmVudC50YXJnZXQuZmlsZXMpOwogICAgICAvLyAgIGNvbnNvbGUubG9nKCJNZWRpYUluZm86OjoiLCBNZWRpYUluZm8pCiAgICAgIC8vICAgY29uc29sZS5sb2coJ2ZpbGUgcmVjZWl2ZWQnLCBmaWxlKTsKICAgICAgdmFyIGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIE1lZGlhSW5mbyh7CiAgICAgICAgZm9ybWF0OiAnSlNPTicKICAgICAgfSwgZnVuY3Rpb24gKG1lZGlhSW5mbykgewogICAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICB2YXIgZ2V0U2l6ZSA9IGZ1bmN0aW9uIGdldFNpemUoKSB7CiAgICAgICAgICAgIHJldHVybiBmaWxlLnNpemU7CiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciByZWFkQ2h1bmsgPSBmdW5jdGlvbiByZWFkQ2h1bmsoY2h1bmtTaXplLCBvZmZzZXQpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmVycm9yKSB7CiAgICAgICAgICAgICAgICAgIHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IFVpbnQ4QXJyYXkoZXZlbnQudGFyZ2V0LnJlc3VsdCkpOwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZmlsZS5zaXplKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKCiAgICAgICAgICBtZWRpYUluZm8uYW5hbHl6ZURhdGEoZ2V0U2l6ZSwgcmVhZENodW5rKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgICAgIC8vIHRoaXMuJHJlZnMudGEudmFsdWUgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpOwogICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0Ojo6JywgaW5mbyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhZGRyZXNzICEhISEhISIsIF90aGlzLmFkZHJlc3MpOwogICAgICAgICAgICBVcGxvYWRTZXJ2aWNlLm1lZGlhKGZpbGUsIF90aGlzLmFkZHJlc3MsIGluZm8sIHJlYWRlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VwbG9hZGVkICEhISA6JywgcmVzKTsKICAgICAgICAgICAgICB2YXIgaW1nUGF0aCA9ICJodHRwczovL3BhcnVsYXItY29udGVudHMuczMuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbS8iICsgcmVzLnBhdGg7IC8vIHRoaXMuJGVtaXQoJ2NoYW5nZWQnLCBpbWdQYXRoKQoKICAgICAgICAgICAgICBfdGhpcy5pbnB1dFZhbCA9IGltZ1BhdGg7CgogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCd1cGxvYWRlZCcsIHsKICAgICAgICAgICAgICAgIGlkOiByZXMuaWQsCiAgICAgICAgICAgICAgICBuYW1lOiByZXMubmFtZSwKICAgICAgICAgICAgICAgIHBhdGg6IGltZ1BhdGgsCiAgICAgICAgICAgICAgICBkb25lOiB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/hyunjongkim/Downloads/parula자료들/parula-frontend/client-v1.0/src/components/imageUploader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"flex w-full bg-grey-lighter\">\r\n    <label class=\"w-full flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-white\">\r\n        <svg class=\"w-8 h-8\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n            <path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\" />\r\n        </svg>\r\n        <span class=\"mt-2 text-base leading-normal\">Select a file</span>\r\n        <input type='file' class=\"hidden\" @change=\"onHandleChange\" />\r\n    </label>\r\n</div>\r\n<!-- <div>\r\n    <input type=\"file\"  @change=\"onHandleChange\" placeholder=\"\" />\r\n</div>     -->\r\n</template>\r\n\r\n<script>\r\n\r\nimport UploadService from '../services/upload.service.js'\r\n\r\nexport default {\r\n    data: function () {\r\n        return {\r\n            ds:[]\r\n        }\r\n    },\r\n    created: function () {\r\n        \r\n    },\r\n    computed: {\r\n    inputVal: {\r\n      get() {\r\n        return this.modelValue;\r\n      },\r\n      set(val) {\r\n        this.$emit('update:modelValue', val);\r\n      }\r\n    }\r\n  },\r\n    props: [\"modelValue:String\", \"address\"],\r\n    emits:['update:modelValue', 'options'],\r\n    methods: {\r\n        onHandleChange(event) {\r\n            // console.log('event.target.files', event.target.files);\r\n            //   console.log(\"MediaInfo:::\", MediaInfo)\r\n            //   console.log('file received', file);\r\n            const file = event.target.files[0]\r\n\r\n            MediaInfo({\r\n                format: 'JSON'\r\n            }, mediaInfo => {\r\n                if (file) {\r\n                    const reader = new FileReader();\r\n                    const getSize = () => file.size;\r\n                    const readChunk = (chunkSize, offset) =>\r\n                        new Promise((resolve, reject) => {\r\n\r\n                            reader.onload = (event) => {\r\n                                if (event.target.error) {\r\n                                    reject(event.target.error);\r\n                                }\r\n                                resolve(new Uint8Array(event.target.result));\r\n                            }\r\n                            reader.readAsArrayBuffer(file.slice(offset, offset + file.size));\r\n                        })\r\n\r\n                    mediaInfo.analyzeData(getSize, readChunk)\r\n                        .then((info) => {\r\n                            // this.$refs.ta.value = JSON.stringify(result, null, 2);\r\n                            console.log('result:::', info)\r\n                            console.log(\"address !!!!!!\", this.address)\r\n                            UploadService.media(file, this.address, info, reader).then(res => {\r\n                                console.log('uploaded !!! :',res)\r\n                                const imgPath = \"https://parular-contents.s3.ap-northeast-2.amazonaws.com/\" + res.path;\r\n                                // this.$emit('changed', imgPath)\r\n                                this.inputVal =imgPath\r\n                                this.$emit('uploaded', {\r\n                                    id:res.id,\r\n                                    name:res.name,\r\n                                    path:imgPath,\r\n                                    done:true\r\n                                })\r\n                            })\r\n                        })\r\n                        .catch((error) => {\r\n                            console.error(error);\r\n                        });\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>"],"sourceRoot":""}]}